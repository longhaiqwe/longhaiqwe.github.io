---
title: Effective C++(1)--视C++为一个语言联邦
date: 2018-09-16 19:36:29
tags: C++
---

> 本文基本摘抄自《Effective C++》 item1

> 将 C++ 视为一个由相关语言组成的联邦而非单一语言。
> 在其某个次语言（sublanguage）中，各种守则与通例都倾向简单、直观易懂、并且容易记住。
> C++ **4**个次语言：

- `C`。说到底 C++ 还是以 C 为基础。许多时候 C++ 对于问题的解法其实不过就是较高级的 C 解法。
- `Object-Oriented C++`。即`C with class`所诉求的，对象、封装、集成、多态、virtual 函数等。
- `Template C++`。泛型编程部分（笔者注：这个就是自己不曾接触的部分）。
- `STL`。标准模板库，包含 4 个组件：算法、容器、迭代器以及函数。

> 从某个次语言切换到另一个，导致高效编程守则可能要求改变策略。
> 【例】*指针（值）还是引用传递问题？*

- 内置类型（C-like）：`pass-by-value`通常比`pass-by-reference`高效
- 对象类型（`Object-Oriented C++`）：由于用户自定义构造函数和析构函数的存在，`pass-by-reference-to-const`往往更好
- `Template C++`：用引用，因为这个时候可能都不知道所处理的对象的类型。
- `STL`：迭代器和函数对象都是在 C 指针之上塑造出来的，所以对 STL 的迭代器和函数对象来说，旧式的 C `pass-by-value`守则再次适用。

> 作为从 C 语言转到 C++ 来说，这个次语言的概念确实对于理解整个 C++ 有一定的指导作用。